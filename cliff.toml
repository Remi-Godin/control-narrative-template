[changelog]
header = """
# Document Revision History\n
"""

body = """
{% if version %}\
    # Release {{ version }}
{% else %}\
    # Unreleased Changes
{% endif %}\

## Release Info
- **Timestamp:** {{ timestamp | date(format="%Y-%m-%dT%H:%M:%SZ") }}
- **Contributors:** {% for commit in commits | unique(attribute="author.name") %}{{ commit.author.name }}{% if not loop.last %}, {% endif %}{% endfor %}\
{#- Check for co-authors in footers -#}
{%- for commit in commits -%}
  {%- for footer in commit.footers -%}
    {%- if footer.token == "Co-authored-by" -%}, {{ footer.value }}{%- endif -%}
  {%- endfor -%}
{%- endfor %}

{% for group, commits in commits | group_by(attribute="group") %}
### {{ group }}
{% for commit in commits %}
- {% if commit.scope %}**[{{ commit.scope }}]** {% endif %}{{ commit.message | upper_first }}
{%- endfor %}
{% endfor %}
\n
"""

footer = """
"""
trim = true

[git]
conventional_commits = true
filter_unconventional = true
split_commits = false

commit_parsers = [
    { message = "^logic", group = "Control Logic" },
    { message = "^fix", group = "Fixes" },
    { message = "^docs", group = "Documentation" },
]

filter_commits = true
tag_pattern = "v[0-9]*"
sort_commits = "oldest"
